<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Tracker & Support</title>
<style>
body { font-family: Arial, sans-serif; background: #f7f7f7; margin: 0; text-align:center; }
.bar { background-color: rgb(245, 193, 97); width:100%; height:40px; display:flex; list-style:none; padding:0; margin:0; }
.bar li { height:100%; width:100px; border-right:1px solid rgb(235,177,69);}
.bar li a { color:black; width:100%; height:100%; display:flex; align-items:center; justify-content:center; text-decoration:none;}
.bar li a:hover { background-color: rgb(235,177,69);}
.bar li a.active { background-color: rgb(165,113,16); color:white;}

.content { text-align:center; padding:40px;}
h1 { color:#222; }
.donation-container { margin-top:40px; }
.btc-box, .coffee-box, .contact-box { background:#fff; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); margin:20px auto; width:300px;}
.btc-address { font-family: monospace; font-size:14px; background:#eee; padding:5px; border-radius:4px; word-wrap:break-word;}
button { background:#ff9800; color:#fff; border:none; padding:10px 16px; font-size:16px; border-radius:4px; cursor:pointer; margin-top:10px;}
button:hover { background:#e68900;}
.contact-box a { color:#0073e6; text-decoration:none;}
.contact-box a:hover { text-decoration:underline; }

.table-container { margin:20px auto; max-width:600px; background:#fff; padding:20px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
table { width:100%; border-collapse: collapse; }
th, td { border:1px solid #ccc; padding:8px; text-align:center; }
th { background:#f0f0f0; }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
<ul class="bar">
<li><a href="#" class="active">Home</a></li>
<li><a href="#">About</a></li>
<li><a href="#contact">Contact</a></li>
<li><a href="#">Careers</a></li>
</ul>
</nav>

<!-- Main Content -->
<div class="content">
<h1>Support My Work & Track Crypto</h1>
<p>Every contribution helps me build better apps.</p>

<div class="donation-container">

<div class="btc-box">
<h2>Donate Bitcoin</h2>
<p>Scan QR or copy address:</p>
<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=1JdMoFe3Jr2nijUxBfgUByWktBQFK2qAqq" alt="BTC QR Code">
<p class="btc-address">1JdMoFe3Jr2nijUxBfgUByWktBQFK2qAqq</p>
</div>

<div class="coffee-box">
<h2>Buy Me a Coffee</h2>
<p>If you prefer, send a small tip via Buy Me a Coffee.</p>
<button><a href="https://www.buymeacoffee.com/yourusername" target="_blank">Buy Me a Coffee</a></button>
</div>

<div id="contact" class="contact-box">
<h2>Contact Me</h2>
<ul>
<li>Email: <a href="mailto:nouridarylaglainua@gmail.com">nouridarylaglainua@gmail.com</a></li>
<li>Email: <a href="mailto:dawsonevelyn6@gmail.com">dawsonevelyn6@gmail.com</a></li>
</ul>
</div>

</div>

<!-- Binance Futures Table -->
<div class="table-container">
<h2>Binance Futures Orderbook (Level 2)</h2>
<table id="binance-table">
<thead>
<tr><th>Side</th><th>Price</th><th>Qty</th></tr>
</thead>
<tbody>
<tr><td colspan="3">Loading data...</td></tr>
</tbody>
</table>
</div>

</div>

<script>
// Fetch data from Netlify function
async function fetchBinanceFutures() {
    try {
        const res = await fetch("/.netlify/functions/binanceFutures");
        const data = await res.json();
        const tbody = document.querySelector("#binance-table tbody");
        tbody.innerHTML = "";
        if (data && data.data) {
            data.data.forEach(row => {
                tbody.insertAdjacentHTML("beforeend", `<tr>
                <td>${row.side}</td>
                <td>${row.price}</td>
                <td>${row.qty}</td>
                </tr>`);
            });
        } else {
            tbody.innerHTML = "<tr><td colspan='3'>No data available</td></tr>";
        }
    } catch (e) {
        console.error(e);
        document.querySelector("#binance-table tbody").innerHTML = "<tr><td colspan='3'>Error fetching data</td></tr>";
    }
}
fetchBinanceFutures();
</script>

</body>
</html>